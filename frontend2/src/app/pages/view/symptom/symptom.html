<div class="card">
    <p-toast position="top-right"></p-toast>
    <div class="font-semibold text-xl mb-4">Symptom Details</div>
    <p-splitter [style]="{ height: '800px' }" [panelSizes]="[70, 30]" [minSizes]="[10, 0]" styleClass="mb-8">
        <ng-template #panel>
            <p-splitter layout="vertical" [panelSizes]="[20, 80]">
                <ng-template #panel>
                    <div class="w-full p-6 bg-surface-0 dark:bg-surface-900 rounded flex justify-between items-center">
                        <div class="flex flex-col gap-2">
                            <div class="text-xl font-medium mt-1">
                                {{ symptom.name }}
                            </div>
                        </div>
                        <div class="flex gap-4 items-center">
                            <p-button
                                *ngIf="!isEditMode"
                                label="Edit"
                                icon="pi pi-user-edit"
                                severity="secondary"
                                raised
                                (click)="enterEdit()"
                            ></p-button>

                            <p-button
                                *ngIf="isEditMode"
                                label="Save"
                                icon="pi pi-save"
                                raised
                                (click)="saveSymptom()"
                            ></p-button>

                            <p-button
                                *ngIf="isEditMode"
                                label="Cancel"
                                icon="pi pi-times"
                                severity="warn"
                                raised
                                (click)="cancelEdit()"
                            ></p-button>

                            <p-button
                                *ngIf="isEditMode && !isNewSymptomMode"
                                label="Delete"
                                icon="pi pi-trash"
                                severity="danger"
                                raised
                                (click)="openConfirmDialog()"
                            ></p-button>

                            <p-dialog header="Confirmation" [(visible)]="displayConfirmDialog" [style]="{ width: '350px' }" [modal]="true">
                                <div class="flex items-center justify-center">
                                    <i class="pi pi-exclamation-triangle mr-4" style="font-size: 2rem"> </i>
                                    <span>Are you sure you want to delete symptom?</span>
                                </div>
                                <ng-template #footer>
                                    <p-button label="No" icon="pi pi-times" (click)="closeConfirmDialog()" text severity="secondary" />
                                    <p-button label="Yes" icon="pi pi-check" (click)="deleteSymptom()" severity="danger" outlined autofocus />
                                </ng-template>
                            </p-dialog>
                        </div>
                    </div>
                </ng-template>
                <ng-template #panel>
                    <p-splitter [panelSizes]="[40,60]">
                        <ng-template #panel>
                            <div class="card flex flex-col gap-4">
                                <div class="font-semibold text-xl flex items-center justify-center">Info</div>
                          <div class="flex flex-col gap-2">
                                    <label for="name1">Name</label>
                                    <input pInputText id="name1" type="text" [(ngModel)]="symptom.name" [disabled]="!isEditMode" />
                                </div>
                            </div>
                        </ng-template>
                        <ng-template #panel>
                            <div class="card flex flex-col gap-4">
                                <div class="col flex items-center justify-center font-semibold text-xl">Notes</div>
                                <textarea
                                    pTextarea placeholder="Type here"
                                    [autoResize]="true"
                                    rows="25"
                                    cols="30"
                                    [(ngModel)]="symptom.notes"
                                    [disabled]="!isEditMode"
                                ></textarea>
                            </div>
                        </ng-template>
                    </p-splitter>
                </ng-template>
            </p-splitter>
        </ng-template>
        <ng-template #panel>
            <div class="card">
                <div class="font-semibold text-xl mb-4">Exercises addressing symptom</div>
                <div class="card">
                    <p-table [value]="tempData" [scrollable]="true" scrollHeight="600px" styleClass="mt-4">
                        <ng-template #header>
                            <tr>
                                <th style="min-width:300px">Exercises</th>
                            </tr>
                        </ng-template>
                        <ng-template #body let-customer>
                            <tr class="hover-scale cursor-pointer"
                            [routerLink]="['/view','exercise']"
                            >
                                <td style="min-width:100px">{{ customer.id }}</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>
        </ng-template>
    </p-splitter>
</div>
